<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport">
        <title>Kolmas</title>
        <style>
            #canvas {
                border: 1px solid #000
            }
        </style>
    </head>
    <body>        
        <canvas id='canvas' width="500" height="500"></canvas>
        <script>
            var canvas = document.getElementById('canvas')
            var ctx = canvas.getContext('2d');
            
            var hx,hy;
            var canvasPos = canvas.getBoundingClientRect();
            var canvasX = canvasPos.x;
            var canvasY = canvasPos.y;
            var canvasXMax = canvasX+canvas.width;
            var canvasYMax = canvasY+canvas.height;
            var mouseDown = false;
            
            window.addEventListener('mousedown', function (e) {
                mouseDown = true;
            });
            window.addEventListener('mouseup', function (e) {
                mouseDown = false;
            });
            window.addEventListener('mousemove', function (e) {
                if (mouseDown) {
                    hx = e.clientX - canvasPos.x;
                    hy = e.clientY - canvasPos.y;
                    ctx.fillRect(hx,hy,1,1);
                };
                
            });


        </script>
    </body>
</html>